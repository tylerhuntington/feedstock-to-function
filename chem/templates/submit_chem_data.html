{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
  <style type="text/css" rel="stylesheet">
    td {
      vertical-align: middle !important;
    }
    .smry-field {
      padding-right: 40%;
    }
  </style>
  <div class="container">
    <div class="properties-container">
      <table class="table table-striped table-sm">
        <h3>Option 1: Submit Chemical Using Form</h3>
        {#        &#42 Required#}
        <form method=post enctype=multipart/form-data>
          {% csrf_token %}

          <thead>
          <tr>
            <th>Chemical Summary</th>
            <th></th>
          </tr>
          </thead>
          <tbody id="tablebody">
          <tr>
            <td style="width: 20%"> Smiles ID</td>
            <td class="smry-field">{{ form.smiles }}</td>
          </tr>
          <tr>
            <td> Molecular Name</td>
            <td class="smry-field">{{ form.name }} </td>
          </tr>
          <tr>
            <td> Molecular Formula</td>
            <td class="smry-field"> {{ form.formula }} </td>
          </tr>
          <tr>
            <td> IUPAC Name</td>
            <td class="smry-field"> {{ form.iupac }} </td>
          </tr>
          <tr>
            <td> InChiKey</td>
            <td class="smry-field"> {{ form.inchi }} </td>
          </tr>
          <tr>
            <td> CAS Number</td>
            <td class="smry-field"> {{ form.cas }} </td>
          </tr>
          </tbody>
      </table>

      <table class="table table-striped table-sm">
        <thead>
        <tr>
          <th>Chemical Property</th>
          <th> Value</th>
          <th> Source</th>
          <th> Test</th>
          <th> Notes</th>
        </tr>
        </thead>
        <tbody id="tablebody">
        <tr>
          <td> Boiling Point in &#176C</td>
          <td>{{ form.bp_exp }} </td>
          <td>{{ form.bp_src }} </td>
          <td>{{ form.bp_tst }} </td>
          <td>{{ form.bp_notes }} </td>
        </tr>
        <tr>
          <td> Melting Point in &#176C</td>
          <td>{{ form.mp_exp }} </td>
          <td>{{ form.mp_src }} </td>
          <td>{{ form.mp_tst }} </td>
          <td>{{ form.mp_notes }} </td>
        </tr>
        <tr>
          <td> Flash Point</td>
          <td>{{ form.fp_exp }} </td>
          <td>{{ form.fp_src }} </td>
          <td>{{ form.fp_tst }} </td>
          <td>{{ form.fp_notes }} </td>
        </tr>
        <tr>
          <td> Cetane Number</td>
          <td> {{ form.cn_exp }} </td>
          <td> {{ form.cn_src }} </td>
          <td> {{ form.cn_tst }} </td>
          <td> {{ form.cn_notes }} </td>
        </tr>
        <tr>
          <td> Derived Cetane Number</td>
          <td> {{ form.dcn_exp }} </td>
          <td> {{ form.dcn_src }} </td>
          <td> {{ form.dcn_tst }} </td>
          <td> {{ form.dcn_notes }} </td>
        </tr>
        <tr>
          <td> Yield Sooting Index</td>
          <td> {{ form.ysi_exp }} </td>
          <td> {{ form.ysi_src }} </td>
          <td> {{ form.ysi_tst }} </td>
          <td> {{ form.ysi_notes }} </td>
        </tr>
        <tr>
          <td> Density at {{ form.dens_x_temp }} &#176C</td>
          <td>
            {{ form.dens_x_val }} </td>
          <td>
            {{ form.dens_x_src }} </td>
          <td>{{ form.dens_x_tst }} </td>
          <td>
            {{ form.dens_x_notes }} </td>
        </tr>
        <tr>
          <td> Density at {{ form.dens_y_temp }} &#176C</td>
          <td>
            {{ form.dens_y_val }} </td>
          <td>
            {{ form.dens_y_src }} </td>
          <td>{{ form.dens_y_tst }} </td>
          <td>
            {{ form.dens_y_notes }} </td>
        </tr>
        <tr>
          <td> Density at {{ form.dens_z_temp }} &#176C</td>
          <td>
            {{ form.dens_z_val }} </td>
          <td>
            {{ form.dens_z_src }} </td>
          <td>{{ form.dens_z_tst }} </td>
          <td>
            {{ form.dens_z_notes }} </td>
        </tr>
        <tr>
          <td> Viscosity at {{ form.visc_x_temp }} &#176C</td>
          <td>
            {{ form.visc_x_val }} </td>
          <td>
            {{ form.visc_x_src }} </td>
          <td>{{ form.visc_x_tst }} </td>
          <td>
            {{ form.visc_x_notes }} </td>
        </tr>
        <tr>
          <td> Viscosity at {{ form.visc_y_temp }} &#176C</td>
          <td>
            {{ form.visc_y_val }} </td>
          <td>
            {{ form.visc_y_src }} </td>
          <td>{{ form.visc_y_tst }} </td>
          <td>
            {{ form.visc_y_notes }} </td>
        </tr>
        <tr>
          <td> Viscosity at {{ form.visc_z_temp }} &#176C</td>
          <td>
            {{ form.visc_z_val }} </td>
          <td>
            {{ form.visc_z_src }} </td>
          <td>{{ form.visc_z_tst }} </td>
          <td>
            {{ form.visc_z_notes }} </td>
        </tr>
        <tr>
          <td> Net Heat of Combustion</td>
          <td>
            {{ form.net_ht_cmbst_val }} </td>
          <td>
            {{ form.net_ht_cmbst_src }} </td>
          <td>
            {{ form.net_ht_cmbst_tst }} </td>
          <td>
            {{ form.net_ht_cmbst_notes }} </td>
        </tr>
        <tr>
          <th> Other Property Label</th>
          <th> Value</th>
          <th> Source</th>
          <th> Test</th>
          <th> Notes</th>
        </tr>
        <tr>
          <td> {{ form.oth_prop_1_name }} </td>
          <td> {{ form.oth_prop_1_val }} </td>
          <td> {{ form.oth_prop_1_src }} </td>
          <td> {{ form.oth_prop_1_tst }} </td>
          <td> {{ form.oth_prop_1_notes }} </td>
        </tr>
        <tr>
          <td> {{ form.oth_prop_2_name }} </td>
          <td> {{ form.oth_prop_2_val }} </td>
          <td> {{ form.oth_prop_2_src }} </td>
          <td> {{ form.oth_prop_2_tst }} </td>
          <td> {{ form.oth_prop_2_notes }} </td>
        </tr>
        <tr>
          <td> {{ form.oth_prop_3_name }} </td>
          <td> {{ form.oth_prop_3_val }} </td>
          <td> {{ form.oth_prop_3_src }} </td>
          <td> {{ form.oth_prop_3_tst }} </td>
          <td> {{ form.oth_prop_3_notes }} </td>
        </tr>
        </tbody>
      </table>

      {% if messages %}
        <ul class="messages">
          {% for message in messages %}
            <li  {% if message.tags %}
              class=" {{ message.tags }} " {% endif %}> {{ message }} </li>
          {% endfor %}
        </ul>
      {% endif %}
      <hr/>
      <h3>Option 2: Submit Chemicals By Uploading CSV</h3>
      <p> For entering in multiple compounds, you may fill out and
        upload a pre-formatted CSV.</p>
      <p> First, download the CSV template and add a row of values for
        each compound you would like to submit. Submission errors
        will result if the column names are changed or if the <code>smiles</code>,
        <code>contributor_name</code>, <code>contact_email</code>,
        or <code>affiliation</code> fields are left blank.
      </p>
      <a href="{% url 'chem:download_chem_subm_tmpl' %}">
        <button type='button' class='btn btn-warning' id="dwnload-subm-tmplate-btn">
          Download CSV Template
        </button>
      </a>
      <p class="my-2"> Then, find the completed file on your computer and upload
        it. </p>
        <td> {{ form.csv_submission }} </td>
{#        <input class='my-1 mx-0' type=file name=file>#}
        <div class="mt-3">
{#        <button class='btn btn-primary' type='submit'>#}
{#          Upload Completed Template#}
{#        </button>#}
        </div>
      <table class="table table-striped table-sm">
        <tbody id="tablebody">
        <tr>
          <th> Contributor Name</th>
          <th> Contact E-mail</th>
          <th> Affiliation</th>
        </tr>
        <tr>
          <td>
            {{ form.contrib_name }} </td>
          <td>{{ form.contrib_email }}  </td>
          <td> {{ form.contrib_affil }} </td>
        </tr>
        </tbody>
      </table>


      <table class="table table-striped table-sm">
        <tbody id="tablebody">
        <tr><b>Comments</b></tr>
        <tr>
          <td>
            {{ form.comments }}

          </td>
        </tr>
        </tbody>
      </table>
      <button type=submit class='btn btn-success'>Submit</button>
      </form>
    </div>
{% endblock %}
